{
  "Logging": {
    "IncludeScopes": false,
    "LogLevel": {
      "Default": "Verbose",
      "System": "Information",
      "Microsoft": "Information"
    }
  },
  "tfs": {
    "server": "",
    "username": "",
    "password": ""
  },
  "ListeningPort": "5000",
  "integrations": [
    {

      "name": "trinity-work-item-updated",
      "integrations": [
        {
          "Type": "workitem.updated",
          "description": "Closed work items that have a parent (query can probably be simplified)",
          "WhiteListQuery": "SELECT [System.Id] FROM WorkItemLinks WHERE ([Source].[System.TeamProject] = @project AND [Source].[System.WorkItemType] <> '' AND [Source].[System.Id] = @wiId AND [Source].[System.State] = 'Done') AND ([System.Links.LinkType] = 'System.LinkTypes.Hierarchy-Reverse') AND ([Target].[System.TeamProject] = @project) ORDER BY [System.Id] mode(MustContain)",
          "SlackWebHookUrl": "https://hooks.slack.com/services/...",
          "Format": "<{parentWiUrl}|{parentWiType} {parentWiId}: {parentWiTitle}> > <{wiUrl}|Task {wiId}: {wiTitle}> completed by {displayName}"
        },
        {
          "Type": "workitem.updated",
          "description": "Closed work items that do not have a parent (query can probably be simplified)",
          "WhiteListQuery": "SELECT [System.Id] FROM WorkItemLinks WHERE ([Source].[System.TeamProject] = @project AND [Source].[System.WorkItemType] <> '' AND [Source].[System.Id] = @wiId AND [Source].[System.State] = 'Done') AND ([System.Links.LinkType] = 'System.LinkTypes.Hierarchy-Reverse') AND ([Target].[System.TeamProject] = @project) ORDER BY [System.Id] mode(DoesNotContain)",
          "SlackWebHookUrl": "https://hooks.slack.com/services/...",
          "Format": "<{wiUrl}|Task {wiId}: {wiTitle}> completed by {displayName}"
        }
      ]
    },
    {
      "name": "trinity-work-item-created",
      "integrations": [
        {
          "Type": "work-item",
          "description": "bugs",
          "WhiteListQuery": "SELECT [System.Id] FROM WorkItems WHERE [System.WorkItemType] = 'Bug' AND [System.Id] = @wiId",
          "SlackWebHookUrl": "https://hooks.slack.com/services/...",
          "Format": "Bug <{wiUrl}|Task {wiId}: {wiTitle}> created by {displayName}"
        }
      ]

    }
  ]
}
